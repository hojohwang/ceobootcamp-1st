<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Firebase Hosting</title>

    <script src="https://code.jquery.com/jquery-latest.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.8.1/firebase-database.js"></script>

    <script>

          $(document).ready(()=>{

            $.ajax({
                url: "https://us-central1-ceohojocamp19970906try.cloudfunctions.net/helloWorld", // 클라이언트가 요청을 보낼 서버의 URL 주소
                type: "POST",                             // HTTP 요청 방식(GET, POST)
                dataType: "json"                         // 서버에서 보내줄 데이터의 타입
              })

              .done(function(json) {
              console.log(json);
            })







          function sendMsg(){
            $("#timeRecord").on("click", ()=>{
              let date = new Date();
              let message = $("#message").val();
              database.ref("msgs/"+date.getTime()).set(message);
              })
          } // function ()


             function loadMsgs(){
               database.ref("msgs").on("value", (snapshot)=>{
                 $("#chatList").html("");
                snapshot.forEach((child)=>{
                  $("#chatList").append("<div>"+child.val()+"</div>");

                })
               })

             }//function ()

          })//<-document ready꺼


    </script>


    <head>

  </head>

  <body>
    <input type="text" id="message" placeholder="메세지를 입력하세yo">
    <button id="timeRecord">데이터 전송</button>
    <div>     돌겠다. </div><br>

    <div id="chatList"></div>
  </body>

  <!-- $(document).ready(()=>{

   $("#timeRecord").on("click", ()=>{
     let date = new Date();
     database.ref("times").set(date.getTime());
     }) -->
